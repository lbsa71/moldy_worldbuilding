<!-- src/components/Game.astro -->
---
---
<div class="game-container">
    <canvas id="gameCanvas"></canvas>
</div>

<!-- Load WASM module -->
<script is:inline src="/wasm/release.js"></script>

<script>
    import { GameScene } from './GameScene';
    
    Promise.all([
        new Promise(resolve => window.addEventListener('load', resolve))
    ]).then(async () => {
        const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;
        if (canvas) {
            const game = new GameScene(canvas);
            await game.run();
        }
    });
</script>

<style>
    .game-container {
        width: 100%;
        height: 100vh;
    }
    
    #gameCanvas {
        width: 100%;
        height: 100%;
        touch-action: none;
    }
</style>
